{"version":3,"file":"main.js","mappings":"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","sources":["webpack://motion/./src/App.ts","webpack://motion/./src/Pages/Login.ts","webpack://motion/./src/Pages/Main.ts","webpack://motion/./src/components/Header/Header.ts","webpack://motion/./src/components/Header/HeaderItemCard.ts","webpack://motion/./src/core/BrowserRouter.ts","webpack://motion/./src/core/Component.ts","webpack://motion/./src/utils/helpers.ts","webpack://motion/webpack/bootstrap","webpack://motion/webpack/runtime/define property getters","webpack://motion/webpack/runtime/hasOwnProperty shorthand","webpack://motion/webpack/runtime/make namespace object","webpack://motion/./src/index.ts"],"sourcesContent":["import Header from \"@/components/Header/Header\";\r\nimport Component, { PropsType, StateType } from \"@/core/Component\";\r\nimport Main from \"@/Pages/Main\";\r\n\r\nexport default class App extends Component<PropsType, StateType> {\r\n  didMount(): void {\r\n    /*const $header = this.target.querySelector(\"header\");\r\n    new Header($header as Element, { propTest: \"mainprops\" });*/\r\n    const $mainContainer = this.target.querySelector(\"mainContainer\");\r\n    new Main($mainContainer as Element, { propTest: \"main\" });\r\n  }\r\n\r\n  template() {\r\n    return `\r\n      <div class='page-wrapper'>\r\n        <header></header>\r\n        <div class ='content-wrapper'>\r\n          <mainContainer></mainContainer>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n","import Header from \"@/components/Header/Header\";\r\nimport Component, { PropsType, StateType } from \"@/core/Component\";\r\n\r\nexport default class Login extends Component<PropsType, StateType> {\r\n  didMount(): void {\r\n    const $header = this.target.querySelector(\"header\");\r\n    new Header($header as Element, { propTest: \"subprop\" });\r\n  }\r\n\r\n  template() {\r\n    return `\r\n        <div>login</div>\r\n    `;\r\n  }\r\n}\r\n","import Header from \"@/components/Header/Header\";\r\nimport Component, { PropsType, StateType } from \"@/core/Component\";\r\n\r\nexport default class Main extends Component<PropsType, StateType> {\r\n  didMount(): void {\r\n    const $header = this.target.querySelector(\"header\");\r\n    new Header($header as Element, { propTest: \"mainprops\" });\r\n  }\r\n  template(): string {\r\n    return `\r\n    <div class='main-wrapper drop-shadow'>\r\n        <header></header>\r\n    </div>`;\r\n  }\r\n}\r\n","import Component, { PropsType, StateType } from \"@/core/Component\";\r\nimport { router } from \"@/core/BrowserRouter\";\r\nimport HeaderItemCard, { HeaderProps } from \"./HeaderItemCard\";\r\n\r\nexport default class Header extends Component<PropsType, StateType> {\r\n  didMount() {\r\n    const btnArray: HeaderProps[] = [\r\n      { name: \"이미지 삽입\", id: \"img\" },\r\n      { name: \"비디오 삽입\", id: \"video\" },\r\n      { name: \"메모\", id: \"note\" },\r\n      { name: \"할 일\", id: \"todo\" },\r\n    ];\r\n    btnArray.forEach((item) => {\r\n      this.insertItemCard(item.name, item.id);\r\n    });\r\n  }\r\n  insertItemCard(name: string, id: string) {\r\n    const $headerItems = this.target.querySelector(`#${id}`);\r\n    new HeaderItemCard($headerItems as Element, {\r\n      name,\r\n      id,\r\n    });\r\n    console.log(\"여기와봐\");\r\n  }\r\n  template() {\r\n    return `\r\n    <div class='header'>\r\n      <div>김수빈의 모션</div>\r\n      <div class='header-items' >\r\n        <div class='header-item' id='img'></div>\r\n        <div class='header-item' id='video'></div>\r\n        <div class='header-item' id='note'></div>\r\n        <div class='header-item' id='todo'></div>\r\n      </div>\r\n    </div>\r\n    `;\r\n  }\r\n}\r\n","import Component, { PropsType, StateType } from \"@/core/Component\";\r\n//import img from \"assets/imgBtn.png\";\r\nexport type HeaderProps = {\r\n  name: string;\r\n  id: string;\r\n};\r\nexport default class HeaderItemCard extends Component<HeaderProps, StateType> {\r\n  didMount(): void {\r\n    const $img = this.target.querySelector(\"img\");\r\n    // $img?.setAttribute(\"src\", img);\r\n  }\r\n  template(): string {\r\n    const { name, id }: HeaderProps = this.props;\r\n    return `<button> <img />${name}</button>`;\r\n  }\r\n}\r\n","import Component from \"@/core/Component\";\r\nimport { customEventEmitter } from \"@/utils/helpers\";\r\n\r\nexport type Route = {\r\n  path: string;\r\n  page: typeof Component;\r\n};\r\n\r\nclass Router {\r\n  $app: HTMLElement;\r\n  routes: {\r\n    [key: string]: typeof Component;\r\n  } = {};\r\n  fallback: string = \"/\";\r\n\r\n  constructor({\r\n    $app,\r\n    routes,\r\n    fallback = \"/\",\r\n  }: {\r\n    $app: HTMLElement;\r\n    routes: Route[];\r\n    fallback?: string;\r\n  }) {\r\n    this.$app = $app;\r\n    this.fallback = fallback;\r\n\r\n    routes.forEach((route: Route) => {\r\n      this.routes[route.path] = route.page;\r\n    });\r\n\r\n    this.initEvent();\r\n  }\r\n\r\n  initEvent() {\r\n    document.addEventListener(\r\n      \"moveRoutes\",\r\n      this.onRouteChangeHandler.bind(this) as EventListener\r\n    );\r\n  }\r\n\r\n  onRouteChangeHandler(event: CustomEvent) {\r\n    const path: string = event.detail.path;\r\n    history.pushState(event.detail, \"\", path);\r\n\r\n    this.renderPage(path);\r\n  }\r\n\r\n  hasRoute(path: string) {\r\n    return typeof this.routes[path] !== \"undefined\";\r\n  }\r\n\r\n  getRoute(path: string) {\r\n    return this.routes[path];\r\n  }\r\n\r\n  renderPage(path: string) {\r\n    let route;\r\n\r\n    /* 동적 라우팅 처리 */\r\n    const regex = /\\w{1,}$/; // 동적 라우팅으로 전달되는 :id 는 모두 [문자열 + 숫자] 조합으로 간주\r\n\r\n    if (this.hasRoute(path)) {\r\n      route = this.getRoute(path);\r\n    } else if (regex.test(path)) {\r\n      // 주소가 없는 경우를 동적 라우팅으로 간주하고 이를 :id 로 치환\r\n      route = this.getRoute(path.replace(regex, \":id\"));\r\n    } else {\r\n      // 그 외 입력되지 않은 모든 주소에 대해서는 fallback 실행\r\n      route = this.getRoute(this.fallback);\r\n    }\r\n\r\n    new route(this.$app, {});\r\n  }\r\n\r\n  push(path: string) {\r\n    customEventEmitter(\"moveRoutes\", {\r\n      ...history.state,\r\n      path,\r\n    });\r\n  }\r\n}\r\n\r\nexport let router: {\r\n  push: (path: string) => void;\r\n};\r\n\r\nexport function initRouter(options: {\r\n  $app: HTMLElement;\r\n  routes: Route[];\r\n}): void {\r\n  const routerObj = new Router(options);\r\n\r\n  router = {\r\n    push: (path) => routerObj.push(path),\r\n  };\r\n\r\n  customEventEmitter(\r\n    \"moveRoutes\",\r\n    history.state ?? {\r\n      path: \"/\",\r\n    }\r\n  );\r\n}\r\n","export interface PropsType {}\r\nexport interface StateType {}\r\n\r\nexport default class Component<P extends PropsType, S extends StateType> {\r\n  target: Element;\r\n  props: P;\r\n  state: S;\r\n\r\n  constructor(target: Element, props: P) {\r\n    this.target = target;\r\n    this.props = props;\r\n    this.state = {} as S;\r\n    this.setup();\r\n    this.mount();\r\n    this.setEvent();\r\n  }\r\n\r\n  setup() {}\r\n  template() {\r\n    return \"\";\r\n  }\r\n  render() {\r\n    const template = this.template();\r\n    if (template) {\r\n      this.target.innerHTML = template;\r\n    }\r\n  }\r\n  mount() {\r\n    this.render();\r\n    this.didMount();\r\n  }\r\n  update(): void {\r\n    this.render();\r\n    this.didUpdate();\r\n  }\r\n\r\n  didMount() {}\r\n  didUpdate() {}\r\n\r\n  setState(newState: Partial<S>) {\r\n    const nextState = { ...this.state, ...newState };\r\n    if (JSON.stringify(this.state) === JSON.stringify(nextState)) {\r\n      return;\r\n    }\r\n    this.state = nextState;\r\n    this.update();\r\n  }\r\n\r\n  setEvent() {}\r\n  addEvent(eventType: string, selector: string, callback: Function) {\r\n    const children: Element[] = [...this.target.querySelectorAll(selector)];\r\n    const isTarget = (target: Element) =>\r\n      children.includes(target) || target.closest(selector);\r\n    this.target.addEventListener(eventType, (event: any) => {\r\n      if (!isTarget(event.target)) return false;\r\n      callback(event);\r\n    });\r\n  }\r\n}\r\n","export const customEventEmitter = (eventType: string, detail?: object) => {\r\n  document.dispatchEvent(\r\n    new CustomEvent(eventType, {\r\n      detail,\r\n    })\r\n  );\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { initRouter, Route } from \"@/core/BrowserRouter\"; // 또는 HashRouter\r\nimport App from \"@/App\";\r\nimport Component from \"@/core/Component\";\r\nimport \"@/scss/index.scss\";\r\nimport Login from \"./Pages/Login\";\r\n\r\nconst routes: Route[] = [\r\n  { path: \"/\", page: App as typeof Component },\r\n  { path: \"/login\", page: Login as typeof Component },\r\n];\r\n\r\nconst $app = document.querySelector(\"#app\") as HTMLElement;\r\n$app.appendChild(document.createElement(\"main\"));\r\n\r\ninitRouter({ $app, routes });\r\n"],"names":["App","Component","didMount","$mainContainer","this","target","querySelector","Main","propTest","template","Login","$header","Header","name","id","forEach","item","insertItemCard","$headerItems","HeaderItemCard","console","log","props","Router","routes","fallback","constructor","_ref","$app","route","path","page","initEvent","document","addEventListener","onRouteChangeHandler","bind","event","detail","history","pushState","renderPage","hasRoute","getRoute","regex","test","replace","push","customEventEmitter","state","router","initRouter","options","routerObj","setup","mount","setEvent","render","innerHTML","update","didUpdate","setState","newState","nextState","JSON","stringify","addEvent","eventType","selector","callback","children","querySelectorAll","includes","closest","dispatchEvent","CustomEvent","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","appendChild","createElement"],"sourceRoot":""}