/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={"./src/Pages/Main.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var r=s("./src/components/Header/Header.ts"),a=s("./src/core/Component.ts");class n extends a.default{didMount(){const t=this.target.querySelector("header");new r.default(t,{propTest:"mainprop"})}template(){return"\n      <div class='main-page'>\n        <header></header>\n        MainPage\n      </div>\n    "}}},"./src/Pages/Sub.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var r=s("./src/components/Header/Header.ts"),a=s("./src/core/Component.ts");class n extends a.default{didMount(){const t=this.target.querySelector("header");new r.default(t,{propTest:"subprop"})}template(){return"\n      <div class='main-page'>\n        <header></header>\n        SubPage\n      </div>\n    "}}},"./src/components/Header/Header.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var r=s("./src/core/Component.ts"),a=s("./src/core/BrowserRouter.ts");class n extends r.default{setup(){this.state={stateTest:"state"}}didMount(){const{propTest:t}=this.props;this.setState({stateTest:this.state.stateTest+t})}template(){const{stateTest:t}=this.state;return`\n    <div class='header'>\n      ${t}\n      <div id='main'>MainPage</div>\n      <div id='sub'>SubPage</div>\n    </div>\n    `}setEvent(){this.addEvent("click","#main",(()=>{a.router.push("/")})),this.addEvent("click","#sub",(()=>{a.router.push("/sub")}))}}},"./src/core/BrowserRouter.ts":(t,e,s)=>{s.r(e),s.d(e,{initRouter:()=>o,router:()=>n});var r=s("./src/utils/helpers.ts");class a{routes={};fallback="/";constructor(t){let{$app:e,routes:s,fallback:r="/"}=t;this.$app=e,this.fallback=r,s.forEach((t=>{this.routes[t.path]=t.page})),this.initEvent()}initEvent(){document.addEventListener("moveRoutes",this.onRouteChangeHandler.bind(this))}onRouteChangeHandler(t){const e=t.detail.path;history.pushState(t.detail,"",e),this.renderPage(e)}hasRoute(t){return void 0!==this.routes[t]}getRoute(t){return this.routes[t]}renderPage(t){let e;const s=/\w{1,}$/;e=this.hasRoute(t)?this.getRoute(t):s.test(t)?this.getRoute(t.replace(s,":id")):this.getRoute(this.fallback),new e(this.$app,{})}push(t){(0,r.customEventEmitter)("moveRoutes",{...history.state,path:t})}}let n;function o(t){const e=new a(t);n={push:t=>e.push(t)},(0,r.customEventEmitter)("moveRoutes",history.state??{path:"/"})}},"./src/core/Component.ts":(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});class r{constructor(t,e){this.target=t,this.props=e,this.state={},this.setup(),this.mount(),this.setEvent()}setup(){}template(){return""}render(){const t=this.template();t&&(this.target.innerHTML=t)}mount(){this.render(),this.didMount()}update(){this.render(),this.didUpdate()}didMount(){}didUpdate(){}setState(t){const e={...this.state,...t};JSON.stringify(this.state)!==JSON.stringify(e)&&(this.state=e,this.update())}setEvent(){}addEvent(t,e,s){const r=[...this.target.querySelectorAll(e)];this.target.addEventListener(t,(t=>{if(a=t.target,!r.includes(a)&&!a.closest(e))return!1;var a;s(t)}))}}},"./src/utils/helpers.ts":(t,e,s)=>{s.r(e),s.d(e,{customEventEmitter:()=>r});const r=(t,e)=>{document.dispatchEvent(new CustomEvent(t,{detail:e}))}},"./src/scss/index.scss":(t,e,s)=>{s.r(e)}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{s.r(r);var t=s("./src/core/BrowserRouter.ts"),e=s("./src/Pages/Main.ts"),a=(s("./src/scss/index.scss"),s("./src/Pages/Sub.ts"));const n=[{path:"/",page:e.default},{path:"/sub",page:a.default}],o=document.querySelector("#app");(0,t.initRouter)({$app:o,routes:n})})()})();
//# sourceMappingURL=main.js.map